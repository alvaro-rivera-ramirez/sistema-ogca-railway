import{r as u,l as se,k as le,s as G,o as v,q as ie,H as Ee,a3 as mt,v as X,j as i,w as F,af as xe,ag as ke,x as ae,m as Ke,n as Xe,ah as xt,ai as Ye,aj as qe,Q as me,ak as Ce,al as vt,am as St,an as gt,u as wt,B as Ve,S as yt,I as Be,a5 as Ct,W as Bt}from"./index-9512049a.js";import{c as Tt,s as It,d as $t}from"./ShareSurvey-e756b44d.js";import"./Modal-5cc5ed01.js";import{S as Et,T as kt,I as Pt,F as jt}from"./FilesSurvey-cfefdc38.js";import{S as Y}from"./sweetalert2.all-7e086d60.js";import{C as Mt}from"./Container-7e28c591.js";import{C as Rt}from"./Menu-7d48820f.js";import{d as Wt,K as Nt}from"./TableRow-f77894bb.js";import{B as Te}from"./Button-fd147fd1.js";import"./label-6573ce96.js";import"./use-router-6243e8e3.js";import"./Tooltip-5c15c2e5.js";import"./Autocomplete-f91b5d70.js";import"./TextField-14413577.js";import"./usePreviousProps-aca6982c.js";let q;function Ze(){if(q)return q;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),q="reverse",e.scrollLeft>0?q="default":(e.scrollLeft=1,e.scrollLeft===0&&(q="negative")),document.body.removeChild(e),q}function zt(e,t){const o=e.scrollLeft;if(t!=="rtl")return o;switch(Ze()){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}}const Lt=u.createContext(),De=Lt;function Ft(e){return se("MuiGrid",e)}const Ot=[0,1,2,3,4,5,6,7,8,9,10],At=["column-reverse","column","row-reverse","row"],Gt=["nowrap","wrap-reverse","wrap"],re=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ne=le("MuiGrid",["root","container","item","zeroMinWidth",...Ot.map(e=>`spacing-xs-${e}`),...At.map(e=>`direction-xs-${e}`),...Gt.map(e=>`wrap-xs-${e}`),...re.map(e=>`grid-xs-${e}`),...re.map(e=>`grid-sm-${e}`),...re.map(e=>`grid-md-${e}`),...re.map(e=>`grid-lg-${e}`),...re.map(e=>`grid-xl-${e}`)]),Vt=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Z(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Dt({theme:e,ownerState:t}){let o;return e.breakpoints.keys.reduce((n,r)=>{let s={};if(t[r]&&(o=t[r]),!o)return n;if(o===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(o==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const f=xe({values:t.columns,breakpoints:e.breakpoints.values}),c=typeof f=="object"?f[r]:f;if(c==null)return n;const d=`${Math.round(o/c*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const b=e.spacing(t.columnSpacing);if(b!=="0px"){const w=`calc(${d} + ${Z(b)})`;h={flexBasis:w,maxWidth:w}}}s=v({flexBasis:d,flexGrow:0,maxWidth:d},h)}return e.breakpoints.values[r]===0?Object.assign(n,s):n[e.breakpoints.up(r)]=s,n},{})}function Ht({theme:e,ownerState:t}){const o=xe({values:t.direction,breakpoints:e.breakpoints.values});return ke({theme:e},o,n=>{const r={flexDirection:n};return n.indexOf("column")===0&&(r[`& > .${ne.item}`]={maxWidth:"none"}),r})}function Qe({breakpoints:e,values:t}){let o="";Object.keys(t).forEach(r=>{o===""&&t[r]!==0&&(o=r)});const n=Object.keys(e).sort((r,s)=>e[r]-e[s]);return n.slice(0,n.indexOf(o))}function Ut({theme:e,ownerState:t}){const{container:o,rowSpacing:n}=t;let r={};if(o&&n!==0){const s=xe({values:n,breakpoints:e.breakpoints.values});let f;typeof s=="object"&&(f=Qe({breakpoints:e.breakpoints.values,values:s})),r=ke({theme:e},s,(c,d)=>{var h;const b=e.spacing(c);return b!=="0px"?{marginTop:`-${Z(b)}`,[`& > .${ne.item}`]:{paddingTop:Z(b)}}:(h=f)!=null&&h.includes(d)?{}:{marginTop:0,[`& > .${ne.item}`]:{paddingTop:0}}})}return r}function _t({theme:e,ownerState:t}){const{container:o,columnSpacing:n}=t;let r={};if(o&&n!==0){const s=xe({values:n,breakpoints:e.breakpoints.values});let f;typeof s=="object"&&(f=Qe({breakpoints:e.breakpoints.values,values:s})),r=ke({theme:e},s,(c,d)=>{var h;const b=e.spacing(c);return b!=="0px"?{width:`calc(100% + ${Z(b)})`,marginLeft:`-${Z(b)}`,[`& > .${ne.item}`]:{paddingLeft:Z(b)}}:(h=f)!=null&&h.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${ne.item}`]:{paddingLeft:0}}})}return r}function Kt(e,t,o={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[o[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(r=>{const s=e[r];Number(s)>0&&n.push(o[`spacing-${r}-${String(s)}`])}),n}const Xt=G("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{container:n,direction:r,item:s,spacing:f,wrap:c,zeroMinWidth:d,breakpoints:h}=o;let b=[];n&&(b=Kt(f,h,t));const w=[];return h.forEach(y=>{const g=o[y];g&&w.push(t[`grid-${y}-${String(g)}`])}),[t.root,n&&t.container,s&&t.item,d&&t.zeroMinWidth,...b,r!=="row"&&t[`direction-xs-${String(r)}`],c!=="wrap"&&t[`wrap-xs-${String(c)}`],...w]}})(({ownerState:e})=>v({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ht,Ut,_t,Dt);function Yt(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const o=[];return t.forEach(n=>{const r=e[n];if(Number(r)>0){const s=`spacing-${n}-${String(r)}`;o.push(s)}}),o}const qt=e=>{const{classes:t,container:o,direction:n,item:r,spacing:s,wrap:f,zeroMinWidth:c,breakpoints:d}=e;let h=[];o&&(h=Yt(s,d));const b=[];d.forEach(y=>{const g=e[y];g&&b.push(`grid-${y}-${String(g)}`)});const w={root:["root",o&&"container",r&&"item",c&&"zeroMinWidth",...h,n!=="row"&&`direction-xs-${String(n)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,...b]};return ae(w,Ft,t)},Zt=u.forwardRef(function(t,o){const n=ie({props:t,name:"MuiGrid"}),{breakpoints:r}=Ee(),s=mt(n),{className:f,columns:c,columnSpacing:d,component:h="div",container:b=!1,direction:w="row",item:y=!1,rowSpacing:g,spacing:W=0,wrap:P="wrap",zeroMinWidth:B=!1}=s,N=X(s,Vt),T=g||W,p=d||W,S=u.useContext(De),E=b?c||12:S,j={},I=v({},N);r.keys.forEach($=>{N[$]!=null&&(j[$]=N[$],delete I[$])});const O=v({},s,{columns:E,container:b,direction:w,item:y,rowSpacing:T,columnSpacing:p,wrap:P,zeroMinWidth:B,spacing:W},j,{breakpoints:r.keys}),z=qt(O);return i.jsx(De.Provider,{value:E,children:i.jsx(Xt,v({ownerState:O,className:F(z.root,f),as:h,ref:o},I))})}),Ie=Zt;function Qt(e){return se("MuiTab",e)}const Jt=le("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),K=Jt,eo=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],to=e=>{const{classes:t,textColor:o,fullWidth:n,wrapped:r,icon:s,label:f,selected:c,disabled:d}=e,h={root:["root",s&&f&&"labelIcon",`textColor${Xe(o)}`,n&&"fullWidth",r&&"wrapped",c&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return ae(h,Qt,t)},oo=G(Ke,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${Xe(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>v({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${K.iconWrapper}`]:v({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${K.selected}`]:{opacity:1},[`&.${K.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${K.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${K.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${K.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${K.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),ro=u.forwardRef(function(t,o){const n=ie({props:t,name:"MuiTab"}),{className:r,disabled:s=!1,disableFocusRipple:f=!1,fullWidth:c,icon:d,iconPosition:h="top",indicator:b,label:w,onChange:y,onClick:g,onFocus:W,selected:P,selectionFollowsFocus:B,textColor:N="inherit",value:T,wrapped:p=!1}=n,S=X(n,eo),E=v({},n,{disabled:s,disableFocusRipple:f,selected:P,icon:!!d,iconPosition:h,label:!!w,fullWidth:c,textColor:N,wrapped:p}),j=to(E),I=d&&w&&u.isValidElement(d)?u.cloneElement(d,{className:F(j.iconWrapper,d.props.className)}):d,O=$=>{!P&&y&&y($,T),g&&g($)},z=$=>{B&&!P&&y&&y($,T),W&&W($)};return i.jsxs(oo,v({focusRipple:!f,className:F(j.root,r),ref:o,role:"tab","aria-selected":P,disabled:s,onClick:O,onFocus:z,ownerState:E,tabIndex:P?0:-1},S,{children:[h==="top"||h==="start"?i.jsxs(u.Fragment,{children:[I,w]}):i.jsxs(u.Fragment,{children:[w,I]}),b]}))}),pe=ro;function no(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function so(e,t,o,n={},r=()=>{}){const{ease:s=no,duration:f=300}=n;let c=null;const d=t[e];let h=!1;const b=()=>{h=!0},w=y=>{if(h){r(new Error("Animation cancelled"));return}c===null&&(c=y);const g=Math.min(1,(y-c)/f);if(t[e]=s(g)*(o-d)+d,g>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(w)};return d===o?(r(new Error("Element already at target position")),b):(requestAnimationFrame(w),b)}const lo=["onChange"],io={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ao(e){const{onChange:t}=e,o=X(e,lo),n=u.useRef(),r=u.useRef(null),s=()=>{n.current=r.current.offsetHeight-r.current.clientHeight};return xt(()=>{const f=Ye(()=>{const d=n.current;s(),d!==n.current&&t(n.current)}),c=qe(r.current);return c.addEventListener("resize",f),()=>{f.clear(),c.removeEventListener("resize",f)}},[t]),u.useEffect(()=>{s(),t(n.current)},[t]),i.jsx("div",v({style:io,ref:r},o))}function co(e){return se("MuiTabScrollButton",e)}const uo=le("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),fo=uo,po=["className","slots","slotProps","direction","orientation","disabled"],bo=e=>{const{classes:t,orientation:o,disabled:n}=e;return ae({root:["root",o,n&&"disabled"]},co,t)},ho=G(Ke,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})(({ownerState:e})=>v({width:40,flexShrink:0,opacity:.8,[`&.${fo.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),mo=u.forwardRef(function(t,o){var n,r;const s=ie({props:t,name:"MuiTabScrollButton"}),{className:f,slots:c={},slotProps:d={},direction:h}=s,b=X(s,po),y=Ee().direction==="rtl",g=v({isRtl:y},s),W=bo(g),P=(n=c.StartScrollButtonIcon)!=null?n:Wt,B=(r=c.EndScrollButtonIcon)!=null?r:Nt,N=me({elementType:P,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),T=me({elementType:B,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return i.jsx(ho,v({component:"div",className:F(W.root,f),ref:o,role:null,ownerState:g,tabIndex:null},b,{children:h==="left"?i.jsx(P,v({},N)):i.jsx(B,v({},T))}))}),xo=mo;function vo(e){return se("MuiTabs",e)}const So=le("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$e=So,go=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],He=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Ue=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,be=(e,t,o)=>{let n=!1,r=o(e,t);for(;r;){if(r===e.firstChild){if(n)return;n=!0}const s=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||s)r=o(e,r);else{r.focus();return}}},wo=e=>{const{vertical:t,fixed:o,hideScrollbar:n,scrollableX:r,scrollableY:s,centered:f,scrollButtonsHideMobile:c,classes:d}=e;return ae({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",n&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",f&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},vo,d)},yo=G("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${$e.scrollButtons}`]:t.scrollButtons},{[`& .${$e.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>v({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${$e.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Co=G("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})(({ownerState:e})=>v({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Bo=G("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})(({ownerState:e})=>v({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),To=G("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>v({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Io=G(ao)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),_e={},$o=u.forwardRef(function(t,o){const n=ie({props:t,name:"MuiTabs"}),r=Ee(),s=r.direction==="rtl",{"aria-label":f,"aria-labelledby":c,action:d,centered:h=!1,children:b,className:w,component:y="div",allowScrollButtonsMobile:g=!1,indicatorColor:W="primary",onChange:P,orientation:B="horizontal",ScrollButtonComponent:N=xo,scrollButtons:T="auto",selectionFollowsFocus:p,slots:S={},slotProps:E={},TabIndicatorProps:j={},TabScrollButtonProps:I={},textColor:O="primary",value:z,variant:$="standard",visibleScrollbar:Q=!1}=n,ve=X(n,go),R=$==="scrollable",M=B==="vertical",J=M?"scrollTop":"scrollLeft",ce=M?"top":"left",de=M?"bottom":"right",Se=M?"clientHeight":"clientWidth",ee=M?"height":"width",H=v({},n,{component:y,allowScrollButtonsMobile:g,indicatorColor:W,orientation:B,vertical:M,scrollButtons:T,textColor:O,variant:$,visibleScrollbar:Q,fixed:!R,hideScrollbar:R&&!Q,scrollableX:R&&!M,scrollableY:R&&M,centered:h&&!R,scrollButtonsHideMobile:!g}),V=wo(H),rt=me({elementType:S.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:H}),nt=me({elementType:S.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:H}),[Pe,st]=u.useState(!1),[U,je]=u.useState(_e),[Me,lt]=u.useState(!1),[Re,it]=u.useState(!1),[We,at]=u.useState(!1),[Ne,ct]=u.useState({overflow:"hidden",scrollbarWidth:0}),ze=new Map,A=u.useRef(null),_=u.useRef(null),Le=()=>{const l=A.current;let a;if(l){const m=l.getBoundingClientRect();a={clientWidth:l.clientWidth,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop,scrollLeftNormalized:zt(l,r.direction),scrollWidth:l.scrollWidth,top:m.top,bottom:m.bottom,left:m.left,right:m.right}}let x;if(l&&z!==!1){const m=_.current.children;if(m.length>0){const C=m[ze.get(z)];x=C?C.getBoundingClientRect():null}}return{tabsMeta:a,tabMeta:x}},te=Ce(()=>{const{tabsMeta:l,tabMeta:a}=Le();let x=0,m;if(M)m="top",a&&l&&(x=a.top-l.top+l.scrollTop);else if(m=s?"right":"left",a&&l){const k=s?l.scrollLeftNormalized+l.clientWidth-l.scrollWidth:l.scrollLeft;x=(s?-1:1)*(a[m]-l[m]+k)}const C={[m]:x,[ee]:a?a[ee]:0};if(isNaN(U[m])||isNaN(U[ee]))je(C);else{const k=Math.abs(U[m]-C[m]),L=Math.abs(U[ee]-C[ee]);(k>=1||L>=1)&&je(C)}}),ge=(l,{animation:a=!0}={})=>{a?so(J,A.current,l,{duration:r.transitions.duration.standard}):A.current[J]=l},Fe=l=>{let a=A.current[J];M?a+=l:(a+=l*(s?-1:1),a*=s&&Ze()==="reverse"?-1:1),ge(a)},Oe=()=>{const l=A.current[Se];let a=0;const x=Array.from(_.current.children);for(let m=0;m<x.length;m+=1){const C=x[m];if(a+C[Se]>l){m===0&&(a=l);break}a+=C[Se]}return a},dt=()=>{Fe(-1*Oe())},ut=()=>{Fe(Oe())},ft=u.useCallback(l=>{ct({overflow:null,scrollbarWidth:l})},[]),pt=()=>{const l={};l.scrollbarSizeListener=R?i.jsx(Io,{onChange:ft,className:F(V.scrollableX,V.hideScrollbar)}):null;const x=R&&(T==="auto"&&(Me||Re)||T===!0);return l.scrollButtonStart=x?i.jsx(N,v({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:rt},orientation:B,direction:s?"right":"left",onClick:dt,disabled:!Me},I,{className:F(V.scrollButtons,I.className)})):null,l.scrollButtonEnd=x?i.jsx(N,v({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:nt},orientation:B,direction:s?"left":"right",onClick:ut,disabled:!Re},I,{className:F(V.scrollButtons,I.className)})):null,l},Ae=Ce(l=>{const{tabsMeta:a,tabMeta:x}=Le();if(!(!x||!a)){if(x[ce]<a[ce]){const m=a[J]+(x[ce]-a[ce]);ge(m,{animation:l})}else if(x[de]>a[de]){const m=a[J]+(x[de]-a[de]);ge(m,{animation:l})}}}),ue=Ce(()=>{R&&T!==!1&&at(!We)});u.useEffect(()=>{const l=Ye(()=>{A.current&&te()});let a;const x=k=>{k.forEach(L=>{L.removedNodes.forEach(oe=>{var D;(D=a)==null||D.unobserve(oe)}),L.addedNodes.forEach(oe=>{var D;(D=a)==null||D.observe(oe)})}),l(),ue()},m=qe(A.current);m.addEventListener("resize",l);let C;return typeof ResizeObserver<"u"&&(a=new ResizeObserver(l),Array.from(_.current.children).forEach(k=>{a.observe(k)})),typeof MutationObserver<"u"&&(C=new MutationObserver(x),C.observe(_.current,{childList:!0})),()=>{var k,L;l.clear(),m.removeEventListener("resize",l),(k=C)==null||k.disconnect(),(L=a)==null||L.disconnect()}},[te,ue]),u.useEffect(()=>{const l=Array.from(_.current.children),a=l.length;if(typeof IntersectionObserver<"u"&&a>0&&R&&T!==!1){const x=l[0],m=l[a-1],C={root:A.current,threshold:.99},k=ye=>{lt(!ye[0].isIntersecting)},L=new IntersectionObserver(k,C);L.observe(x);const oe=ye=>{it(!ye[0].isIntersecting)},D=new IntersectionObserver(oe,C);return D.observe(m),()=>{L.disconnect(),D.disconnect()}}},[R,T,We,b==null?void 0:b.length]),u.useEffect(()=>{st(!0)},[]),u.useEffect(()=>{te()}),u.useEffect(()=>{Ae(_e!==U)},[Ae,U]),u.useImperativeHandle(d,()=>({updateIndicator:te,updateScrollButtons:ue}),[te,ue]);const Ge=i.jsx(To,v({},j,{className:F(V.indicator,j.className),ownerState:H,style:v({},U,j.style)}));let fe=0;const bt=u.Children.map(b,l=>{if(!u.isValidElement(l))return null;const a=l.props.value===void 0?fe:l.props.value;ze.set(a,fe);const x=a===z;return fe+=1,u.cloneElement(l,v({fullWidth:$==="fullWidth",indicator:x&&!Pe&&Ge,selected:x,selectionFollowsFocus:p,onChange:P,textColor:O,value:a},fe===1&&z===!1&&!l.props.tabIndex?{tabIndex:0}:{}))}),ht=l=>{const a=_.current,x=vt(a).activeElement;if(x.getAttribute("role")!=="tab")return;let C=B==="horizontal"?"ArrowLeft":"ArrowUp",k=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&s&&(C="ArrowRight",k="ArrowLeft"),l.key){case C:l.preventDefault(),be(a,x,Ue);break;case k:l.preventDefault(),be(a,x,He);break;case"Home":l.preventDefault(),be(a,null,He);break;case"End":l.preventDefault(),be(a,null,Ue);break}},we=pt();return i.jsxs(yo,v({className:F(V.root,w),ownerState:H,ref:o,as:y},ve,{children:[we.scrollButtonStart,we.scrollbarSizeListener,i.jsxs(Co,{className:V.scroller,ownerState:H,style:{overflow:Ne.overflow,[M?`margin${s?"Left":"Right"}`:"marginBottom"]:Q?void 0:-Ne.scrollbarWidth},ref:A,children:[i.jsx(Bo,{"aria-label":f,"aria-labelledby":c,"aria-orientation":B==="vertical"?"vertical":null,className:V.flexContainer,ownerState:H,onKeyDown:ht,ref:_,role:"tablist",children:bt}),Pe&&Ge]}),we.scrollButtonEnd]}))}),Eo=$o,Je=u.createContext(null);function ko(){const[e,t]=u.useState(null);return u.useEffect(()=>{t(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),e}function Po(e){const{children:t,value:o}=e,n=ko(),r=u.useMemo(()=>({idPrefix:n,value:o}),[n,o]);return i.jsx(Je.Provider,{value:r,children:t})}function et(){return u.useContext(Je)}function tt(e,t){const{idPrefix:o}=e;return o===null?null:`${e.idPrefix}-P-${t}`}function ot(e,t){const{idPrefix:o}=e;return o===null?null:`${e.idPrefix}-T-${t}`}const jo=["children"],Mo=u.forwardRef(function(t,o){const{children:n}=t,r=X(t,jo),s=et();if(s===null)throw new TypeError("No TabContext provided");const f=u.Children.map(n,c=>u.isValidElement(c)?u.cloneElement(c,{"aria-controls":tt(s,c.props.value),id:ot(s,c.props.value)}):null);return i.jsx(Eo,v({},r,{ref:o,value:s.value,children:f}))}),Ro=Mo;function Wo(e){return se("MuiTabPanel",e)}le("MuiTabPanel",["root"]);const No=["children","className","value"],zo=e=>{const{classes:t}=e;return ae({root:["root"]},Wo,t)},Lo=G("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(3)})),Fo=u.forwardRef(function(t,o){const n=ie({props:t,name:"MuiTabPanel"}),{children:r,className:s,value:f}=n,c=X(n,No),d=v({},n),h=zo(d),b=et();if(b===null)throw new TypeError("No TabContext provided");const w=tt(b,f),y=ot(b,f);return i.jsx(Lo,v({"aria-labelledby":y,className:F(h.root,s),hidden:f!==b.value,id:w,ref:o,role:"tabpanel",ownerState:d},c,{children:f===b.value&&r}))}),he=Fo;function Oo(){const[e,t]=St.useState("0"),[o,n]=u.useState(!0),{createSurveyInfo:r,createItems:s,createTaskGroup:f,surveyInfo:c,items:d,taskGroups:h,allowedEdit:b,setAllowedEdit:w,files:y}=gt(),{accessToken:g,user:W}=wt(),P=(p,S)=>{t(S)},B=async()=>{try{const p=new URLSearchParams(window.location.search);let S="";p&&p.has("code")&&(S=p.get("code"));const{module:E,code:j,allowedEdit:I,condition:O,component:z,indicator:$,checkitem:Q,responsibleInstitute:ve,taskGroup:R,items:M}=await Tt(S,g);r({module:E,condition:O,component:z,indicator:$,checkitem:Q,allowedEdit:I,responsibleInstitute:ve}),R.length>0&&f(R),M.length>0&&s(M),n(!1)}catch(p){console.error(p)}};async function N(){try{const p=new URLSearchParams(window.location.search);let S="";p&&p.has("code")&&(S=p.get("code"));const E={items:[...d],task:[...h]};Y.fire({title:"¿Estas seguro de enviar la ficha?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, enviar!"}).then(async j=>{try{j.isConfirmed&&(await It(S,g,E,y),w(0),Y.fire("Enviado!","La ficha se ha enviado correctamente.","success"))}catch(I){console.error(I),Y.fire("Error!","Error al enviar la ficha.","error")}})}catch(p){console.log(p)}}async function T(p){try{const S=new URLSearchParams(window.location.search);let E="";S&&S.has("code")&&(E=S.get("code")),Y.fire({title:`¿Estas seguro de ${p==1?"confirmar":"observar"} la ficha?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, enviar!"}).then(async j=>{try{j.isConfirmed&&(await $t(E,g,p),Y.fire("Confirmado!","El estado de la ficha se ha actualizado","success"))}catch(I){console.error(I),Y.fire("Error!","Error al modificar el estado de la ficha.","error")}})}catch(S){console.log(S)}}return u.useEffect(()=>{B()},[]),i.jsx(Mt,{maxWidth:"lg",children:i.jsxs(Rt,{children:[!o&&i.jsx(Ve,{sx:{width:"100%",typography:"body1"},children:i.jsxs(Po,{value:e,children:[i.jsx(Ve,{sx:{borderBottom:1,borderColor:"divider"},children:i.jsxs(Ro,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,"aria-label":"scrollable force tabs example",onChange:P,children:[i.jsx(pe,{label:"Información General",wrapped:!0,value:"0"}),h.length>0&&h.map(p=>i.jsx(pe,{label:`${p.nameGroupTask}`,value:`TabTask${p.idGroupTask}`},`tabTask${p.idGroupTask}`)),d.length>0&&d.map(p=>i.jsx(pe,{label:`${p.nameItem}`,value:`TabItem${p.idItem}`},`tabItem${p.idItem}`)),i.jsx(pe,{label:"Archivos adjuntos",value:"tabFiles"},"tabFiles")]})}),i.jsx(he,{value:"0",children:!o&&i.jsx(Et,{title:"Información General",list:[c.condition,c.component,c.indicator,c.checkitem,c.responsibleInstitute]})}),h.length>0&&h.map((p,S)=>i.jsx(he,{value:`TabTask${p.idGroupTask}`,children:i.jsx(kt,{title:`${p.nameGroupTask}`,list:p.taskList,typeGroupTask:p.typeGroupTask,indexGroupTask:S})},`tabPanelTask${p.idGroupTask}`)),d.length>0&&d.map((p,S)=>i.jsx(he,{value:`TabItem${p.idItem}`,children:i.jsx(Pt,{title:`${p.nameItem}`,list:p.itemList,typeItem:p.typeItem,indexItem:S})},`tabPanelItem${p.idItem}`)),i.jsx(he,{value:"tabFiles",children:i.jsx(jt,{title:"Archivos adjuntos",subheader:"Adjunte sus documentos que respalden la información brindada"})})]})}),b==1&&i.jsx(yt,{direction:"row",alignItems:"center",justifyContent:"center",mb:5,children:i.jsx(Te,{variant:"contained",color:"inherit",startIcon:i.jsx(Be,{icon:"mdi:send"}),onClick:()=>N(),children:"Enviar Ficha"})}),W.role==Ct.ADMINISTRADOR&&b==0&&i.jsxs(Ie,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},direction:"row",justifyContent:"center",alignItems:"center",marginBottom:4,children:[i.jsx(Ie,{item:!0,xs:2,sm:5,md:4,children:i.jsx(Te,{variant:"contained",color:"success",startIcon:i.jsx(Be,{icon:"mdi:success-circle"}),onClick:()=>T(1),children:"Confirmado"})}),i.jsx(Ie,{item:!0,xs:2,sm:5,md:4,children:i.jsx(Te,{variant:"contained",color:"warning",startIcon:i.jsx(Be,{icon:"mdi:warning"}),onClick:()=>T(2),children:"Observado"})})]})]})})}function tr(){return i.jsxs(i.Fragment,{children:[i.jsx(Bt,{children:i.jsx("title",{children:" Ficha | OGCA "})}),i.jsx(Oo,{})]})}export{tr as default};
